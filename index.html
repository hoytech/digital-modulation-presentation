<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<title>Introduction to Digital Modulation</title>
<!-- metadata -->
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta name="generator" content="S5" />
<meta name="version" content="S5 1.1" />
<!-- configuration parameters -->
<meta name="defaultView" content="slideshow" />
<meta name="controlVis" content="hidden" />
<!-- style sheet links -->
<link rel="stylesheet" href="ui/default/slides.css" type="text/css" media="projection" id="slideProj" />
<link rel="stylesheet" href="ui/default/outline.css" type="text/css" media="screen" id="outlineStyle" />
<link rel="stylesheet" href="ui/default/print.css" type="text/css" media="print" id="slidePrint" />
<link rel="stylesheet" href="ui/default/opera.css" type="text/css" media="projection" id="operaFix" />
<!-- S5 JS -->
<script src="ui/default/slides.js" type="text/javascript"></script>


</head>
<body>

<div class="layout">
<div id="controls"><!-- DO NOT EDIT --></div>
<div id="currentSlide"><!-- DO NOT EDIT --></div>
<div id="header"></div>
<div id="footer">
<h1>Introduction to Digital Modulation</h1>
</div>

</div>


<div class="presentation">

<div class="slide">
  <center>
  <h1 style="font-size: 300%">Introduction to Digital Modulation</h1>
  <br>
  <h2>Doug Hoyte</h2>
  <h2>VE3HOY</h2>
  </center>
</div>




<div class="slide">
  <h1>Digital Modulation</h1>

  At some level, all digital communication is done over an analog medium

  <center><img src="img/acoustic-coupler.jpg"></center>
</div>


<div class="slide">
  <h1>Three techniques of digital modulation</h1>

  <ul>
    <li>Amplitude Shift Keying: Morse code, fiber optics</li>
    <li>Frequency Shift Keying: DTMF, RTTY, MFSK8, Olivia, GSM</li>
    <li>Phase Shift Keying: PSK-31, Wifi, RFID, Bluetooth</li>
  </ul>

  <br><br>

  It is common to combine these techniques. For example, QAM combines ASK and PSK.
</div>



<div class="slide">
  <h1>Amplitude Modulation</h1>
  For analog data like voice, amplitude modulation works by combining a "signal" with a "carrier" in a non-linear way:
  <center><img src="output/ask1.svg"></center>
</div>



<div class="slide">
  <h1>Diode Mixers</h1>
  <ul>
    <li>Diodes are <i>non-ohmic</i> conductors (<b>I &ne; V/R</b>)</li>
    <li>By biasing signals into the indicated region, diodes <i>mix</i> (multiply) signals together</li>
  </ul>
  <center><img src="img/diode.svg"></center>
</div>



<div class="slide">
  <h1>Sidebands</h1>
  Amplitude Modulation results in two signals of slightly different frequencies known as <i>sidebands</i>:
  <center><img src="output/ask2.svg"></center>
</div>

<div class="slide">
  <h1>Sidebands (overlayed)</h1>
  Notice how the output is at its maximum when the sidebands are in phase and minimum when out of phase (consider also guitar tuning):
  <center><img src="output/ask2-1.svg"></center>
</div>

<div class="slide">
  <h1>Envelope</h1>
  The original signal is present in the modulated signal as the <i>envelope</i>. Note that it is shifted up above the X axis ("raised"):
  <center><img src="output/ask2-2.svg"></center>
</div>




<div class="slide">
  <h1>Morse Code (CW)</h1>

  <ul>
    <li>Morse code is one of the earliest digital modes</li>
    <li>Known to hams as CW ("Continuous Wave") as opposed to ancient spark-gap transmitters which did not generate continuous waves</li>
    <li>Conceptually an oscillator that is turned on and off by a manually-operated switch (a "key")</li>
  </ul>
  <center><img src="img/cw.svg"></center>
</div>


<div class="slide">
  <h1>Amplitude Modulation of a digital signal</h1>
  A simplistic implementation of amplitude-shift keying is <i>on-off keying</i>:
  <center><img src="output/ask3.svg"></center>
</div>


<div class="slide">
  <h1>Square waves</h1>
  The problem is that square waves contain an infinite number of harmonics (every 3rd). If used as a keying waveform you get infinite sidebands:
  <center><img src="output/square-wave.svg"></center>
</div>



<div class="slide">
  <h1>CW Shaping</h1>
  <ul>
    <li>Because on-off keying is spectrally inefficient/impolite, "smoother" keying envelopes should be used</li>
    <li>Keying hardware has traditionally used RC filters (exponential) because they are simple to implement</li>
    <li>Gaussian (sinusoidal) envelopes are the smoothest</li>
  </ul>
</div>


<div class="slide">
  <h1>Keying Waveform Shaping</h1>
  We need to soften those hard square wave edges
  <center><img src="output/shaping1.svg"></center>
</div>


<div class="slide">
  <h1>Keying Envelope Steepness</h1>
  The steeper we make it, the closer it becomes to a square wave pulse
  <center><img src="output/shaping2.svg"></center>
</div>


<div class="slide">
  <h1>Demo: Morse code key shaping</h1>

  On-off keyed morse code transmission:
  <pre>
    perl -I lib -MPDL::Sound -e '$s=PDL::Sound->new; $s->play("cw", 1000, 15, "CQ CQ CQ DE VE3HOY "x10)'
  </pre>

  This demo shows gaussian minimum-shift keyed morse code transmission:
  <pre>
    perl ...
  </pre>

  This demo shows 5ms (200 Hz) gaussian smoothed morse code transmission:
  <pre>
    perl ...
  </pre>
</div>




<div class="slide">
  <h1>CW Bandwidth</h1>
  <ul>
    <li>An unmodulated carrier wave contains no information and consumes no bandwidth</li>
    <li>Therefore, the bandwidth consumed by a CW transmission depends solely on the keying envelope used</li>
    <li>Recall from the Amplitude Modulation slides that sinusoidal envelopes create two "sideband" signals of slightly different frequencies</li>
    <li>The bandwidth consumed is the frequency difference between the sidebands created by the keying envelope</li>
  </ul>
</div>



<div class="slide">
  <h1>Frequency-shift keying</h1>

  <ul>
    <li>Frequency-shift keying (FSK) is to FM modulation as ASK is to AM</li>
    <li>DTMF (touch-tone) dialing is a familiar example as in the beginning of this cool image of a modem handshake by Oona Räisänen:</li>
  </ul>

  <div><center><img src="img/modem-spectrum.jpg"></center></div>
</div>

<div class="slide">
  <h1>FSK</h1>
  <ul>
    <li>Conceptually, FSK alternates between two oscillators of different frequencies</li>
  </ul>

  <div><center><img src="img/fsk.svg"></center></div>
</div>

<div class="slide">
  <h1>RTTY</h1>

  <ul>
    <li>RTTY (Radio-Teletype) is a very old FSK mode that printed digital messages out onto paper</li>
    <li>Uses the 5-bit Baudot encoding invented in 1870 (origin of the word "baud")</li>
    <li>Has a "shift to figures" character that changes what the codes mean so numbers and punctuation can be sent, and of course a "shift back to letters" character</li>
    <li>Still common on amateur bands</li>
  </ul>
<div>


<div class="slide">
  <h1>RTTY</h1>
  <ul>
    <li>The higher frequency signal indicates a 1 and the lower indicates a 0</li>
    <li>If transmitted on lower sideband output at antenna will be inverse of audio</li>
    <li>RTTY uses constant power so doesn't require a linear amplifier</li>
  </ul>
</div>


<div class="slide">
  <h1>Phase-shift keying</h1>
  <ul>
    <li>Phase-shift keying is a type of angle modulation</li>
    <li>Pure PSK modifies the phase of a carrier but preserves amplitude and frequency</li>
    <li>Conceptually, phase-shift keying instantly switches between two or more out-of-phase but otherwise equivalent oscillators</li>
  </ul>

  <div><center><img src="img/psk2.svg"></center></div>
</div>



<div class="slide">
  <h1>Abrupt phase shifts</h1>

  <ul>
    <li>Abrupt 180 degree phase-shifts are twice as bad as on-off keying because they are like simultaneously keying off one signal and keying on another</li>
  </ul>

  <div><center><img src="output/psk.svg"></center></div>
</div>


<div class="slide">
  <h1>Demo: unsmoothed phase-shift</h1>
  This demo shows the spectrum of an abrupt phase-shift and how audibly noticeable it is:
  <pre>
    perl ...
  </pre>
</div>


<div class="slide">
  <h1>Constellation diagrams</h1>

  <ul>
    <li>The phase properties of a signal are commonly shown on a complex plane called the "I-Q" plane</li>
    <li>All points on the circle represent signals of the same power output so any purely phase-modulated signal must only use symbols on this circle</li>
  </ul>

  <center><img src="img/const.svg"></center>
</div>



<div class="slide">
  <h1>Binary PSK</h1>

  <ul>
    <li><i>Binary</i> phase-shift keying uses only two signals that are 180 degrees out-of-phase with each-other</li>
    <li>The phases are on the real number-line. 1 is sin(x) and 0 is -sin(x)</li>
  </ul>

  <center><img src="img/const2.svg"></center>
</div>



<div class="slide">
  <h1>Differential Binary PSK</h1>

  <ul>
    <li><i>Differential</i> binary phase-shift keying is where the absolute phase of the original signal is irrelevant</li>
    <li>The fact that a phase changes or does not change is how symbols are signalled</li>
  </ul>

  <center><img src="img/const3.svg"></center>
</div>



<div class="slide">
  <h1>Quadrature PSK</h1>

  <ul>
    <li><i>Quadrature</i> phase-shift keying uses more symbols than binary PSK</li>
    <li>Unlike binary PSK it uses the Q axis (Quadrature axis) as well as the I axis (In-Phase axis)</li>
  </ul>

  <center><img src="img/qpsk.svg"></center>
</div>





<div class="slide">
  <h1>PSK-31</h1>

  <ul>
    <li>Popular ham mode: A world-wide chatroom &mdash; no internet required</li>
    <li>A typical evening on 20 meters (14.070150 MHz):</li>
  </ul>
  <br>
  <center><img src="img/fldigi.png"></center>
</div>


<div class="slide">
  <h1>PSK-31</h1>

  <ul>
    <li>Several variations available but by far most commonly used is known as PSK-31 (technically DBPSK-31.25)</li>
    <li>Differential Binary Phase-Shift Keying at 31.25 baud</li>
    <li>As we will see, also uses a form of amplitude modulation</li>
    <li>Roughly as fast as most people type</li>
    <li>31.25 is convenient when using a sample rate of 8000 because the key shaping waveform has a nice even period of 256 samples (32 milliseconds)</li>
  </ul>
</div>


<div class="slide">
  <h1>Varicode</h1>

  <ul>
    <li>PSK-31 uses a custom encoding called "varicode"</li>
    <li>Like morse code, frequently used symbols have shorter encodings than rare symbols</li>
    <li>Encoded symbols never contain adjacent 0s (the character separator)</li>
    <li>Self-synchronizing: if you lose your place in a stream you can re-synchronize at the next character (like UTF-8)</li>
  </ul>

  <pre>
      " "    : 1
      "e"    : 11
      "t"    : 101
      "b"    : 1011111
      "Q"    : 111011101
      "\xEE" : 101010111101
  </pre>
</div>



<div class="slide">
  <h1>Raised cosine shaping</h1>

  <ul>
    <li></li>
  </ul>
</div>

<div class="slide">
  <h1>...</h1>
  <ul>
    <li>RTTY has constant power unlike CW (and PSK-31)</li>
    <li>BPSK-31 is sideband independent</li>
    <li>Peak power of PSK-31 is about 2 times more than average power: requires linear amplifier</li>
  </ul>
</div>



<div class="slide">
  <h1>Modulation percentage</h1>

  <ul>
    <li>PSK-31 can also be thought of as a 31.25 Hz signal that is amplitude modulated by 200%</li>
    <li>At 200% modulation, the envelope is full-wave rectified 31.25 Hz AC</li>
  </ul>
  <center><img src="output/modulation-pct.svg"></center>
</div>



</div>
</body>
</html>
